@using System.Text.RegularExpressions
@{
    ViewData["Title"] = "Home Page";
    var skills = await _skillService.GetSkills();
    var lastBlogs = await _blogService.GetLastBlogs(3);
}
@{
    static string ToRelativeTime(DateTime dateTime)
    {
        if (dateTime == null) return "1 gün önce";
        var diff = DateTime.Now - dateTime;

        if (diff.TotalDays >= 365)
            return $"{(int)(diff.TotalDays / 365)} yıl önce";
        if (diff.TotalDays >= 30)
            return $"{(int)(diff.TotalDays / 30)} ay önce";
        if (diff.TotalDays >= 1)
            return $"{(int)diff.TotalDays} gün önce";
        if (diff.TotalHours >= 1)
            return $"{(int)diff.TotalHours} saat önce";
        if (diff.TotalMinutes >= 1)
            return $"{(int)diff.TotalMinutes} dakika önce";

        return "az önce";
    }
}
<!-- Hero Section -->
<section id="hero" class="hero section">

    <div class="container">
        <div class="row gy-4">
            <div class="col-lg-6 order-2 order-lg-1 d-flex flex-column justify-content-center">
                <h1 data-aos="fade-up">
                    Burada yazılım dünyası ve teknolojinin derinliklerine inmeye hazır mısınız? Keyifli bir keşif
                    yolculuğuna çıkmak için hemen başlamaya ne dersiniz
                </h1>
                @* <p data-aos="fade-up" data-aos-delay="100">We are team of talented designers making websites with Bootstrap</p> *@
                <div class="d-flex flex-column flex-md-row" data-aos="fade-up" data-aos-delay="200">
                    <a href="/blog" class="btn-get-started">Blog Yazılarım <i class="bi bi-arrow-right"></i></a>
                    <a href="/about"
                       class="glightbox btn-watch-video d-flex align-items-center justify-content-center ms-0 ms-md-4 mt-4 mt-md-0"><i
                            class="bi bi-play-circle"></i><span>Hakkımda</span></a>
                </div>
            </div>
            <div class="col-lg-6 order-1 order-lg-2 hero-img" data-aos="zoom-out">
                <img src="~/userTheme/assets/img/hero-img.png" class="img-fluid animated" alt="">
            </div>
        </div>
    </div>

</section><!-- /Hero Section -->
<!-- Values Section -->
<section id="values" class="values section">

    <!-- Section Title -->
    <div class="container section-title" data-aos="fade-up">
        <h2>İlgi Alanlarım</h2>
        <p>Genel olarak ilgilendiğim alanlar<br></p>
    </div><!-- End Section Title -->

    <div class="container">

        <div class="row gy-4">

            <div class="col-lg-4" data-aos="fade-up" data-aos-delay="100">
                <div class="card">
                    <img src="~/userTheme/assets/img/values-1.png" class="img-fluid" alt="">
                    <h3>Full Stack Web Geliştirme</h3>
                    <p>Modern ve ölçeklenebilir web uygulamaları geliştirerek kullanıcı dostu deneyimler sunuyoruz.</p>
                </div>
            </div><!-- End Card Item -->

            <div class="col-lg-4" data-aos="fade-up" data-aos-delay="200">
                <div class="card">
                    <img src="~/userTheme/assets/img/values-2.png" class="img-fluid" alt="">
                    <h3>Mobil Uygulama Geliştirme</h3>
                    <p>iOS ve Android platformları için yenilikçi ve performans odaklı mobil uygulamalar
                        geliştiriyoruz.</p>
                </div>
            </div><!-- End Card Item -->

            <div class="col-lg-4" data-aos="fade-up" data-aos-delay="300">
                <div class="card">
                    <img src="~/userTheme/assets/img/values-3.png" class="img-fluid" alt="">
                    <h3>Otomasyon Programları</h3>
                    <p>İş süreçlerini hızlandıran ve verimliliği artıran özelleştirilmiş otomasyon çözümleri
                        sunuyoruz.</p>
                </div>
            </div><!-- End Card Item -->

        </div>

    </div>

</section><!-- /Values Section -->

<!-- Features Section -->
<section id="features" class="features section">

    <!-- Section Title -->
    <div class="container section-title" data-aos="fade-up">
        <h2>Yeteneklerim</h2>
        <p>Sahip olduğum yetenekler<br></p>
    </div><!-- End Section Title -->

    <div class="container">

        <div class="row gy-5">

            <div class="col-xl-6" data-aos="zoom-out" data-aos-delay="100">
                <img src="~/userTheme/assets/img/features.png" class="img-fluid" alt="">
            </div>

            <div class="col-xl-6 d-flex">
                <div class="row align-self-center gy-4">

                    @foreach (var skill in skills)
                    {
                        <div class="col-md-6" data-aos="fade-up" data-aos-delay="200">
                            <div class="feature-box d-flex align-items-center">
                                <i class="bi bi-check"></i>
                                <h3>@skill.Name</h3>
                            </div>
                        </div>
                        <!-- End Feature Item -->
                    }
                </div>
            </div>

        </div>

    </div>

</section><!-- /Features Section -->
<!-- Alt Features Section -->
<section id="alt-features" class="alt-features section">

    <div class="container">

        <div class="row gy-5">

            <div class="col-xl-7 d-flex order-2 order-xl-1" data-aos="fade-up" data-aos-delay="200">

                <div class="row align-self-center gy-5">

                    @foreach (var skill in skills)
                    {
                        <div class="col-md-6 icon-box">
                            <i class="bi bi-award"></i>
                            <div>
                                <h4>@skill.Name - @skill.Year Yıl</h4>
                                <p>@skill.Description</p>
                            </div>
                        </div>
                    }
                </div>

            </div>

            <div class="col-xl-5 d-flex align-items-center order-1 order-xl-2" data-aos="fade-up" data-aos-delay="100">
                <img src="~/userTheme/assets/img/alt-features.png" class="img-fluid" alt="">
            </div>

        </div>

    </div>

</section><!-- /Alt Features Section -->

<!-- Recent Posts Section -->
<section id="recent-posts" class="recent-posts section">

    <!-- Section Title -->
    <div class="container section-title" data-aos="fade-up">
        <h2>Son Gönderiler</h2>
        <p>Son Yazdığım Yazılar</p>
    </div><!-- End Section Title -->

    <div class="container">

        <div class="row gy-5">
            @foreach (var it in lastBlogs)
            {
                <div class="col-xl-4 col-md-6">
                    <div class="post-item position-relative h-100" data-aos="fade-up" data-aos-delay="100">

                        <div class="post-img position-relative overflow-hidden">
                            @if (it.ImageUrl == null)
                            {
                                <img style="width:100%;max-height: 200px" src="~/userTheme/assets/img/blog/blog-2.jpg" class="img-fluid" alt="">
                            }
                            else
                            {
                                <img style="width:100%;max-height: 200px" src="@it.ImageUrl" class="img-fluid" alt="">
                            }
                            <span class="post-date">
                                @ToRelativeTime(it.Created)
                            </span>
                        </div>

                        <div class="post-content d-flex flex-column">
                            <h3 class="post-title">
                                @it.Title
                            </h3>
                            <div class="meta d-flex align-items-center">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-person"></i> 
                                        @if (it.Author == null)
                                        {
                                            <span class="ps-2">Batuhan Topcu</span>
                                        }
                                        else
                                        {
                                            <span class="ps-2">@it.Author</span>
                                        }
                                </div>
                                <span class="px-3 text-black-50">/</span>
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-folder2"></i> <span class="ps-2">@it.CategoryName</span>
                                </div>
                            </div>
                            <hr>

                            <a href="/blog/details/@it.Id" class="readmore stretched-link"><span>Devamını Oku</span><i
                                    class="bi bi-arrow-right"></i></a>

                        </div>

                    </div>
                </div>
            }
        </div>

    </div>

</section><!-- /Recent Posts Section -->
<!-- Contact Section -->
<section id="contact" class="contact section">

    <!-- Section Title -->
    <div class="container section-title" data-aos="fade-up">
        <h2>İletişim</h2>
        <p>Benimle iletişime geçin!</p>
    </div>

    <div class="container" data-aos="fade-up" data-aos-delay="100">

        <div class="row gy-4">

            <div class="col-lg-12">

                <div class="row gy-4">
                    <div class="col-md-6">
                        <div class="info-item" data-aos="fade" data-aos-delay="400">
                            <i class="bi bi-envelope"></i>
                            <h3>Email gönderin</h3>
                            <p>topcubatuhan00@gmail.com</p>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="info-item" data-aos="fade" data-aos-delay="300">
                            <i class="bi bi-telephone"></i>
                            <h3>Beni arayın</h3>
                            <p>+90 553 857 0750</p>
                        </div>
                    </div>
                </div>

            </div>

        </div>

    </div>

</section>
